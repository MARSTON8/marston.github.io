<!DOCTYPE html>
<html lang="fa" dir="rtl">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Ù…Ú©Ø§Ù†ÛŒÚ©ÛŒ Ùˆ ØªØ¹ÙˆÛŒØ¶ Ø±ÙˆØºÙ†ÛŒ Ø§Ù…ÛŒØ¯ÙˆØ§Ø±ÛŒ</title>
  <style>
    @import url('https://v1.fontapi.ir/css/Sahel');

    body {
      font-family: 'Sahel', sans-serif;
      margin: 0;
      padding: 0;
      background: #ffffff;
      color: #222;
      transition: background 0.5s, color 0.5s;
    }

    header {
      display: flex;
      justify-content: space-between;
      align-items: center;
      padding: 15px 20px;
      background: rgba(0,0,0,0.05);
      position: sticky; /* Ø«Ø§Ø¨Øª Ø¨Ø§Ù„Ø§ */
      top: 0;
      z-index: 1000;
      transition: background 0.5s, color 0.5s;
    }

    .title {
      font-size: 20px;
      font-weight: bold;
    }

    .clock {
      font-size: 16px;
    }

    main {
      display: grid;
      grid-template-columns: repeat(auto-fit, minmax(250px, 1fr));
      gap: 20px;
      padding: 20px;
    }

    .card {
      background: #f8f8f8;
      padding: 20px;
      border-radius: 15px;
      text-align: center;
      box-shadow: 0 4px 8px rgba(0,0,0,0.1);
      transition: transform 0.3s;
    }

    .card:hover {
      transform: translateY(-5px);
    }

    .card img {
      width: 60px;
      height: 60px;
      margin-bottom: 10px;
    }

    /* Ø­Ø§Ù„Øª Ø´Ø¨ */
    body.night {
      background: #1c2a3a; /* Ø³Ø±Ù…Ù‡â€ŒØ§ÛŒ ØªÙ„Ú¯Ø±Ø§Ù…ÛŒ */
      color: #eee;
    }

    body.night .card {
      background: #243447;
      color: #fff;
    }

    body.night header {
      background: #152236; /* Ø³Ø±Ù…Ù‡â€ŒØ§ÛŒ Ù¾Ø±Ø±Ù†Ú¯ */
      color: #fff;
    }

    /* Ø¯Ú©Ù…Ù‡ Ø­Ø¨Ø§Ø¨ÛŒ ØªØºÛŒÛŒØ± ØªÙ… */
    .theme-bubble {
      position: fixed;
      bottom: 20px;
      left: 20px;
      background: #0078ff;
      color: #fff;
      width: 55px;
      height: 55px;
      border-radius: 50%;
      display: flex;
      align-items: center;
      justify-content: center;
      cursor: pointer;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      font-size: 22px;
      z-index: 1001;
    }

    /* Ù…Ù†ÙˆÛŒ ØªÙ… */
    .theme-menu {
      position: fixed;
      bottom: 80px;
      left: 20px;
      background: #fff;
      border-radius: 10px;
      padding: 10px;
      box-shadow: 0 4px 8px rgba(0,0,0,0.3);
      display: flex;
      flex-direction: column;
      gap: 10px;
      z-index: 1001;

      opacity: 0;             /* Ù¾ÛŒØ´â€ŒÙØ±Ø¶ Ù…Ø®ÙÛŒ */
      pointer-events: none;   /* Ú©Ù„ÛŒÚ©â€ŒÙ¾Ø°ÛŒØ± Ù†Ø¨Ø§Ø´Ù‡ */
      transition: opacity 0.4s ease; /* Ø§Ù†ÛŒÙ…ÛŒØ´Ù† fade */
    }

    .theme-menu.show {
      opacity: 1;
      pointer-events: auto;   /* Ú©Ù„ÛŒÚ©â€ŒÙ¾Ø°ÛŒØ± Ø¨Ø´Ù‡ */
    }

    .theme-menu button {
      background: none;
      border: none;
      font-size: 20px;
      cursor: pointer;
    }
  </style>
</head>
<body>
  <header>
    <div class="title">Ù…Ú©Ø§Ù†ÛŒÚ©ÛŒ Ùˆ ØªØ¹ÙˆÛŒØ¶ Ø±ÙˆØºÙ†ÛŒ Ø§Ù…ÛŒØ¯ÙˆØ§Ø±ÛŒ</div>
    <div class="clock" id="clock"></div>
  </header>

  <main>
<a href="reserve.html" class="card">
   <img src="https://img.icons8.com/ios-filled/100/000000/phone.png" alt="Ø±Ø²Ø±Ùˆ ÙˆÙ‚Øª">
   <h3>Ø±Ø²Ø±Ùˆ ÙˆÙ‚Øª</h3>
   <p>Ø¨Ø±Ø§ÛŒ Ø§Ø·Ù„Ø§Ø¹Ø§Øª ØªÙ…Ø§Ø³ Ú©Ù„ÛŒÚ© Ù†Ù…Ø§ÛŒÛŒØ¯</p>
</a>

  <a href="location.html" class="card">
   <img src="https://img.icons8.com/ios-filled/100/000000/marker.png" alt="Ù„ÙˆÚ©ÛŒØ´Ù† Ù…ØºØ§Ø²Ù‡">
   <h3>Ù„ÙˆÚ©ÛŒØ´Ù† Ù…ØºØ§Ø²Ù‡</h3>
   <p>Ø¢Ø¯Ø±Ø³ Ùˆ Ù…ÙˆÙ‚Ø¹ÛŒØª Ù…Ú©Ø§Ù†ÛŒ Ù…ØºØ§Ø²Ù‡ Ù…Ø§</p>
</a>
    
  <div class="card" onclick="window.location.href='about.html'">
  <img src="https://img.icons8.com/ios-filled/100/000000/about.png" alt="About Icon">
  <h3>Ø¯Ø±Ø¨Ø§Ø±Ù‡ Ù…Ø§</h3>
  <p>Ø³ÙˆØ§Ø¨Ù‚ Ú©Ø§Ø±ÛŒ Ùˆ Ø¯Ø³ØªÚ¯Ø§Ù‡ Ù‡Ø§.</p>
</div>
    <div class="card">
      <img src="https://img.icons8.com/ios-filled/100/000000/oil-industry.png" alt="Ø±ÙˆØºÙ†">
      <h3>Ú†Ù‡ Ù†ÙˆØ¹ Ø±ÙˆØºÙ†ÛŒ Ø¨Ø±ÛŒØ²Ù…ØŸ</h3>
      <p>Ø±Ø§Ù‡Ù†Ù…Ø§ÛŒ Ø§Ù†ØªØ®Ø§Ø¨ Ø¨Ù‡ØªØ±ÛŒÙ† Ø±ÙˆØºÙ† Ù…ÙˆØªÙˆØ± Ø¨Ø±Ø§ÛŒ Ø®ÙˆØ¯Ø±ÙˆÛŒ Ø´Ù…Ø§.</p>
    </div>

    <div class="card">
      <img src="https://img.icons8.com/ios-filled/100/000000/stopwatch.png" alt="Ø³Ø§Ø¹Øª">
      <h3>Ú†Ù‡ Ù…ÙˆÙ‚Ø¹â€ŒØ§ÛŒ Ø¨Ø§Ø²ÛŒÙ…ØŸ</h3>
      <p>Ø³Ø§Ø¹Øª Ú©Ø§Ø±ÛŒ Ù…ØºØ§Ø²Ù‡</p>
    </div>

    <div class="card">
      <img src="https://img.icons8.com/ios-filled/100/000000/information.png" alt="Ø±Ø§Ù‡Ù†Ù…Ø§">
      <h3>Ú†Ù‡ Ø²Ù…Ø§Ù†ÛŒ Ø³Ø±ÙˆÛŒØ³ Ø®ÙˆØ¯Ø±Ùˆ Ø§Ù†Ø¬Ø§Ù… Ø¯Ù‡ÛŒÙ…ØŸ</h3>
      <p>Ú†Ù‡ Ø²Ù…Ø§Ù†ÛŒ ÙÛŒÙ„ØªØ± Ù‡Ø§ Ùˆ Ø³ÛŒØ§Ù„Ø§Øª Ø®ÙˆØ¯Ø±Ùˆ Ùˆ Ù…Ø§ÛŒØ¹ Ø®Ù†Ú© Ú©Ø§Ø±ÛŒ Ø±Ø§ ØªØ¹ÙˆÛŒØ¶ Ú©Ù†ÛŒÙ…ØŸ</p>
    </div>
  </main>

  <!-- Ø¯Ú©Ù…Ù‡ Ø­Ø¨Ø§Ø¨ÛŒ -->
  <div class="theme-bubble" onclick="toggleThemeMenu()">âš™ï¸</div>

  <!-- Ù…Ù†ÙˆÛŒ ØªÙ… -->
  <div class="theme-menu" id="themeMenu">
    <button onclick="setTheme('day')">â˜€ï¸</button>
    <button onclick="setTheme('night')">ğŸŒ™</button>
    <button onclick="setTheme('auto')">âš™ï¸</button>
  </div>

  <script>
    function updateClock() {
      const now = new Date();
      const options = { hour: '2-digit', minute: '2-digit', second: '2-digit', weekday: 'long', day: 'numeric', month: 'long', year: 'numeric' };
      document.getElementById('clock').textContent = new Intl.DateTimeFormat('fa-IR', options).format(now);
    }
    setInterval(updateClock, 1000);
    updateClock();

    function setTheme(mode) {
      if (mode === 'day') {
        document.body.classList.remove('night');
        localStorage.setItem('theme', 'day');
      } else if (mode === 'night') {
        document.body.classList.add('night');
        localStorage.setItem('theme', 'night');
      } else if (mode === 'auto') {
        const hour = new Date().getHours();
        if (hour >= 18 || hour < 5) {
          document.body.classList.add('night');
        } else {
          document.body.classList.remove('night');
        }
        localStorage.setItem('theme', 'auto');
      }
    }

    function toggleThemeMenu() {
      const menu = document.getElementById('themeMenu');
      menu.classList.toggle('show'); // fade in/out
    }

    // Ø§Ø¹Ù…Ø§Ù„ ØªÙ†Ø¸ÛŒÙ… Ù‚Ø¨Ù„ÛŒ
    const savedTheme = localStorage.getItem('theme');
    if (savedTheme) setTheme(savedTheme);
  </script>
<!-- Radio widget: paste this just before </body> in index.html -->
<style>
/* RADIO WIDGET STYLES */
#radio-widget {
  position: fixed;
  bottom: 18px;
  right: 18px;
  z-index: 9999;
  font-family: inherit;
  direction: ltr;
}

/* Floating circle */
#radio-toggle {
  width: 64px;
  height: 64px;
  border-radius: 50%;
  background: #111;
  display: flex;
  align-items: center;
  justify-content: center;
  box-shadow: 0 8px 22px rgba(0,0,0,0.45);
  cursor: pointer;
  position: relative;
  overflow: visible;
}

/* Icon size */
#radio-toggle img { width: 34px; height: 34px; display:block; }

/* Live pulse */
#radio-pulse {
  position: absolute;
  inset: -6px;
  border-radius: 50%;
  pointer-events: none;
  box-shadow: 0 0 0 0 rgba(255, 90, 0, 0.0);
  transition: box-shadow .25s linear;
  opacity: 0.65;
}
#radio-toggle.playing #radio-pulse {
  animation: pulse 1.6s infinite;
  opacity: 1;
}
@keyframes pulse {
  0% { box-shadow: 0 0 0 0 rgba(255, 165, 0, 0.35); }
  70% { box-shadow: 0 0 0 18px rgba(255, 165, 0, 0.03); }
  100% { box-shadow: 0 0 0 0 rgba(255, 165, 0, 0); }
}

/* Panel */
#radio-panel {
  position: absolute;
  bottom: 86px;
  right: 0;
  width: 320px;
  max-width: calc(100vw - 48px);
  background: #0f0f10;
  color: #fff;
  border-radius: 12px;
  box-shadow: 0 18px 60px rgba(0,0,0,0.45);
  padding: 12px;
  transform-origin: bottom right;
  opacity: 0;
  visibility: hidden;
  transition: opacity .28s ease, transform .28s ease, visibility .28s;
  transform: translateY(10px) scale(.98);
  font-family: inherit;
  -webkit-font-smoothing:antialiased;
}

/* show */
#radio-panel.show { opacity: 1; visibility: visible; transform: translateY(0) scale(1); }

/* header row inside panel */
#radio-panel .row {
  display:flex;
  align-items:center;
  gap:10px;
}
#radio-panel .title {
  flex:1;
  font-weight:700;
  font-size:15px;
  text-align:left;
}

/* cover */
#radio-cover {
  width:64px; height:64px; border-radius:8px; object-fit:cover; background:#222;
  box-shadow: 0 6px 18px rgba(0,0,0,0.6);
}

/* controls */
#radio-controls {
  display:flex;
  align-items:center;
  justify-content:space-between;
  gap:10px;
  margin-top:12px;
}
.rbtn {
  background:transparent;
  border:0;
  color:#fff;
  cursor:pointer;
  font-size:20px;
  width:44px;
  height:44px;
  border-radius:8px;
  display:flex; align-items:center; justify-content:center;
  transition:background .18s;
}
.rbtn:hover { background: rgba(255,255,255,0.04); }

/* small label for station */
#radio-station {
  margin-top:10px;
  font-size:14px;
  color:#ddd;
  text-align:left;
}

/* station list */
#radio-list {
  display:flex;
  gap:8px;
  margin-top:10px;
  flex-wrap:wrap;
}
.station {
  background: rgba(255,255,255,0.03);
  color: #fff;
  padding:6px 10px;
  border-radius:8px;
  font-size:13px;
  cursor:pointer;
  transition: background .18s, transform .12s;
}
.station.active { background: linear-gradient(90deg,#222,#444); transform: translateY(-2px); }

/* responsive */
@media (max-width:420px){
  #radio-panel { right: 6px; left: 6px; width: auto; bottom: 86px; }
  #radio-cover{width:56px;height:56px}
  #radio-toggle{width:56px;height:56px}
}
</style>

<div id="radio-widget" aria-hidden="false">
  <div id="radio-toggle" title="Ø±Ø§Ø¯ÛŒÙˆ Ø²Ù†Ø¯Ù‡ â€” Ø¨Ø§Ø²/Ø¨Ø³ØªÙ‡">
    <div id="radio-pulse"></div>
    <img id="radio-icon" src="https://img.icons8.com/?size=100&id=9P70tJJKRpAo&format=png&color=ffffff" alt="radio">
  </div>

  <div id="radio-panel" role="region" aria-label="Ù¾Ø®Ø´â€ŒÚ©Ù†Ù†Ø¯Ù‡ Ø±Ø§Ø¯ÛŒÙˆ">
    <div class="row">
      <img id="radio-cover" src="" alt="cover">
      <div class="title">Ø±Ø§Ø¯ÛŒÙˆ Ø²Ù†Ø¯Ù‡ </div>
    </div>

    <div id="radio-controls">
      <button id="prevBtn" class="rbtn" title="Ø§ÛŒØ³ØªÚ¯Ø§Ù‡ Ù‚Ø¨Ù„ÛŒ">â®</button>
      <button id="playBtn" class="rbtn" title="Ù¾Ø®Ø´ / ØªÙˆÙ‚Ù">â–¶</button>
      <button id="nextBtn" class="rbtn" title="Ø§ÛŒØ³ØªÚ¯Ø§Ù‡ Ø¨Ø¹Ø¯ÛŒ">â­</button>
    </div>

    <div id="radio-station">Ø§ÛŒØ³ØªÚ¯Ø§Ù‡: <span id="stationName">-</span></div>

    <div id="radio-list" aria-hidden="false">
      <div class="station" data-index="0">Ø±Ø§Ø¯ÛŒÙˆ Ù¾ÛŒØ§Ù…</div>
      <div class="station" data-index="1">Ø±Ø§Ø¯ÛŒÙˆ Ø¢ÙˆØ§</div>
      <div class="station" data-index="2">Ø±Ø§Ø¯ÛŒÙˆ ÙØ±Ù‡Ù†Ú¯</div>
    </div>
  </div>
</div>

<script>
/*
  Radio widget script
  - Put placeholder stream URLs below (replace with real stream links later)
  - The widget stores chosen station + play state in localStorage so user's choice persists.
  - Audio autoplay will only work after user interaction (browser policy).
*/

(function(){
  const streams = [
    { name: "Ø±Ø§Ø¯ÛŒÙˆ Ù¾ÛŒØ§Ù…", url: "https://[https://player.iranseda.ir/live-player/?VALID=TRUE&CH=12&t=b&auto=true&SAVE=TRUE]", cover: "" },
    { name: "Ø±Ø§Ø¯ÛŒÙˆ Ø¢ÙˆØ§",  url: "https://[https://player.iranseda.ir/live-player/?VALID=TRUE&CH=21&t=b&auto=true&SAVE=TRUE]",  cover: "" },
    { name: "Ø±Ø§Ø¯ÛŒÙˆ ÙØ±Ù‡Ù†Ú¯",url: "https://[https://player.iranseda.ir/live-player/?VALID=TRUE&CH=16&t=b&auto=true&SAVE=TRUE]", cover: "" }
  ];

  // DOM
  const toggle = document.getElementById('radio-toggle');
  const panel = document.getElementById('radio-panel');
  const playBtn = document.getElementById('playBtn');
  const prevBtn = document.getElementById('prevBtn');
  const nextBtn = document.getElementById('nextBtn');
  const stationName = document.getElementById('stationName');
  const stationEls = document.querySelectorAll('#radio-list .station');
  const coverEl = document.getElementById('radio-cover');
  const radioIcon = document.getElementById('radio-icon');

  // audio element (not added to DOM)
  let audio = new Audio();
  audio.crossOrigin = "anonymous";
  audio.preload = "none";
  audio.volume = 0.9;
  audio.autoplay = false;

  // state
  let idx = Number(localStorage.getItem('radio_idx') || 0);
  let playing = localStorage.getItem('radio_playing') === '1';

  // utility: update UI
  function updateUI(){
    stationName.textContent = streams[idx].name;
    stationEls.forEach(el => el.classList.toggle('active', Number(el.dataset.index) === idx));
    // cover: if stream has cover url use it otherwise use a default from icons8 (or blank)
    coverEl.src = streams[idx].cover || 'https://img.icons8.com/ios-filled/100/ffffff/radio.png';
    // playing state
    if (playing) {
      playBtn.textContent = 'â¸';
      toggle.classList.add('playing');
    } else {
      playBtn.textContent = 'â–¶';
      toggle.classList.remove('playing');
    }
  }

  // set stream url
  function setStream(i){
    idx = (i + streams.length) % streams.length;
    localStorage.setItem('radio_idx', idx);
    audio.src = streams[idx].url;
    audio.load();
    updateUI();
  }

  // play/pause
  async function play(){
    if(!audio.src) setStream(idx);
    try {
      await audio.play();
      playing = true;
      localStorage.setItem('radio_playing','1');
      updateUI();
    } catch(e){
      // autoplay blocked: require user interaction
      console.warn('Ù¾Ø®Ø´ Ø®ÙˆØ¯Ú©Ø§Ø± Ø¨Ù„Ø§Ú© Ø´Ø¯:', e);
      playing = false;
      localStorage.setItem('radio_playing','0');
      updateUI();
      // show a brief hint by toggling panel open
      panel.classList.add('show');
    }
  }
  function stop(){
    audio.pause();
    playing = false;
    localStorage.setItem('radio_playing','0');
    updateUI();
  }

  // next/prev
  function next(){
    setStream(idx+1);
    if (playing) play();
  }
  function prev(){
    setStream(idx-1);
    if (playing) play();
  }

  // initialize from localStorage
  setStream(idx);

  // If previously playing, we won't start automatically (browser policies),
  // but when user interacts (presses play or toggle), we will resume.
  if (localStorage.getItem('radio_playing') === '1') {
    // try to resume only after a user gesture - leave for user
    // nothing automatic here to avoid autoplay issues
  }

  // events
  toggle.addEventListener('click', ()=>{
    const open = panel.classList.toggle('show');
    if(open){
      // focus first control
      playBtn.focus();
    }
  });

  playBtn.addEventListener('click', ()=>{
    if(playing) stop(); else play();
  });
  prevBtn.addEventListener('click', prev);
  nextBtn.addEventListener('click', next);

  // station clicks
  stationEls.forEach(el=>{
    el.addEventListener('click', ()=>{
      const i = Number(el.dataset.index);
      setStream(i);
      // try to play when user explicitly chooses station
      play();
    });
  });

  // keyboard accessibility: space to toggle when panel open
  document.addEventListener('keydown', (e)=>{
    if(e.key === ' ' && panel.classList.contains('show')){
      e.preventDefault();
      playBtn.click();
    }
  });

  // persist play across pages: store current stream + playing state in localStorage.
  // On other pages, include same widget script and it will attempt to restore
  // the chosen stream; autoplay may still be blocked by browser if no user gesture.
  // (Note: truly uninterrupted playback across page navigations requires a shared audio
  //  context e.g. a popup window or SPA; this code uses localStorage to remember user's choice.)

  // update UI initially
  updateUI();

  // show brief tooltip the first time
  if(!localStorage.getItem('radio_widget_seen')){
    localStorage.setItem('radio_widget_seen','1');
    // flash panel once
    panel.classList.add('show');
    setTimeout(()=>panel.classList.remove('show'), 2200);
  }

  // clicking outside panel closes it
  document.addEventListener('click', (ev)=>{
    const inside = ev.target.closest && ev.target.closest('#radio-widget');
    if(!inside){
      panel.classList.remove('show');
    }
  });

  // stop automatic audio on page hide (optional)
  document.addEventListener('visibilitychange', ()=>{
    // keep playing if user wants; no forced stop
  });

  // Expose for debugging (optional)
  window.__radioWidget = { play, stop, next, prev, setStream, audio };

})();
</script>
```î¨0î¨‚
</body>
</html>
